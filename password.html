<!doctype html>
<html lang="zh-cn">

<head>
    <title>爱看电竞</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">
    <!--     Fonts and icons     -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
    <!-- Material Kit CSS -->
    <link href="/public/assets/css/material-dashboard.css?v=2.1.1" rel="stylesheet" />
    <link rel="stylesheet" href="/public/css/owl.carousel.min.css">
    <link rel="stylesheet" href="/public/css/owl.theme.default.min.css">
    <!-- layui -->
    <link rel="stylesheet" href="/public/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="/public/layui/css/layui.mobile.css" media="all">
    <link rel="stylesheet" type="text/css" href="/public/css/index.css">
    <!-- fullCalendar -->
    <link href='/public/fullCalendar/core/main.css' rel='stylesheet' />
    <link href='/public/fullCalendar/daygrid/main.css' rel='stylesheet' />
    <link href='/public/fullCalendar/timegrid/main.css' rel='stylesheet' />
    <link href='/public/fullCalendar/list/main.css' rel='stylesheet' />
</head>

<body style="width:100%;">
    <div class="wrapper-default">
        <nav class="navbar sticky-top navbar-expand-md navbar-dark bg-dark" style="margin-bottom:0;border-radius: 0px;">
            <div class="container" style="max-width: 95%;">
                <a class="navbar-brand" href="/" style="font-size:20px;font-weight: 900;">爱看电竞</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" aria-expanded="false" data-target="#collapsibleNavbar">
                    <span class="navbar-toggler-icon"></span>
                    <span class="navbar-toggler-icon"></span>
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="collapsibleNavbar">
                    <ul class="navbar-nav mr-auto justify-content-center">
                        <li class="nav-item">
                            <a class="nav-link" href="/" style="font-size:16px;font-weight: 600;">主页 <span class="sr-only">(current)</span></a><!-- 是用于帮助残障人士阅读的 -->
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/videoReply" style="font-size:16px;font-weight: 600;">复盘视频</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/calendar" style="font-size:16px;font-weight: 600;">比赛日程</a>
                        </li> <!--
                        <li class="nav-item">
                            <a class="nav-link" href="/news/234123" style="font-size:15px;">热点新闻</a>
                        </li>-->
                        <li class="nav-item">
                            <a class="nav-link" href="/aboutus" style="font-size:16px;font-weight: 600;">关于我们</a>
                        </li>
                    </ul>
                    <ul class="navbar-nav ml-auto justify-content-end">
                        <li class="nav-item">
                            {% if username %}
                             {{username}}
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/logout" style="font-size:16px;font-weight: 600;">退出</a>
                            {% else %}
                            <a class="nav-link" href="/login" style="font-size:16px;font-weight: 600;">登录</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/register" style="font-size:16px;font-weight: 600;">注册</a>
                           {% endif %}
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="content text-center" style="width:60%;margin:0 auto;padding:10em auto;min-height: calc(75vh);">
            <div class="row">
                <div class="card col-lg-12 col-md-12 col-sm-12 col-xs-12 wow fadeIn" data-wow-duration="2s" data-wow-delay="0.5s" style="padding-top:5em;padding-bottom: 5em;">
                    <div class="card-body">
                        <form role="form" style="width:80%; margin: 0 auto;">
                            <div class="form-group form-horizontal">
                                <label class="col-lg-12" for="usermail" style="font-size: 1.6em;">邮箱</label>
                                <input type="email" class="form-control col-lg-8" id="usermail" autocomplete="off" placeholder="name@example.com" style="float: left;">
                                <span class="input-group-btn col-lg-4">
                                    <button type="button" class="btn" data-toggle="modal" data-target="#confirmModal" id="mailbutton">
                                        发送验证码
                                    </button>
                                </span>
                            </div>
                            <div class="form-group">
                                <label for="password" style="font-size: 1.6em;">验证码</label>
                                <input type="password" class="form-control" id="activateCode" placeholder="验证码">
                            </div>
                            <div class="form-group">
                                <label for="userpassword" style="font-size: 1.6em;">密码</label>
                                <input type="password" class="form-control" id="userpassword" placeholder="密码">
                            </div>
                            <div class="form-group">
                                <label for="userpasswordconfirm" style="font-size: 1.6em;">确认密码</label>
                                <input type="password" class="form-control" id="userpasswordconfirm" placeholder="确认密码">
                            </div>
                            <div class="form-check">
                                <label class="form-check-label">
                                    <input class="form-check-input" type="checkbox" id="usercheckbox" value="">
                                    <span class="form-check-sign">
                                        <span class="check"></span>
                                    </span>
                                    已阅读并同意<a data-toggle="modal" data-target="#agreementModal"><strong>《用户协议》</strong></a>
                                </label>
                            </div>
                            <div class="form-group">
                                <p><a class="a-else" href="/login">已有账号,点击登陆</a></p>
                            </div>
                            <button type="submit" class="btn" id="registerbtn">确定修改</button>
                        </form>
                        <!-- Modal -->
                        <div class="modal fade" id="confirmModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">发送成功</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <p>发送邮箱成功，请到邮箱中查看。</p>
                                        <!-- <input type="text" class="form-control" name="randomCode" id="randomCode">
                                        <canvas id="canvas" width="120" height="45"></canvas>
                                        <a href="#" id="changeImg" class="a-else">看不清，换一张</a> -->
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn" data-dismiss="modal">关闭</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="modal fade" id="confirmModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">输入正确验证码</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <input type="text" class="form-control" name="randomCode" id="randomCode">
                                        <canvas id="canvas" width="120" height="45"></canvas>
                                        <a href="#" id="changeImg" class="a-else">看不清，换一张</a>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn" data-dismiss="modal">关闭</button>
                                        <button type="button" class="btn">发送</button>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                        <div class="modal fade" id="agreementModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h3 class="modal-title" id="exampleModalLongTitle">电竞可视化工作平台账号规则</h3>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body" style="font-size: 1.4em;">
                                        <h3>【首部及导言】</h3>
                                        为有效利用电竞可视化工作平台账号资源，维护用户合法权益，特制订《电竞可视化工作平台账号规则》（以下简称“本规则”），同时您应当阅读并遵守《本公司服务协议》。请您务必审慎阅读、充分理解各条款内容，特别是免除或者限制本公司责任的条款、对用户权利进行限制的条款、约定争议解决方式和司法管辖的条款（如第十三条相关约定）等，以及开通或使用某项服务的单独协议或规则。限制、免责条款或者其他涉及您重大权益的条款可能以加粗、加下划线等形式提示您重点注意。除非您已充分阅读、完全理解并接受本规则所有条款，否则您无权申请、使用电竞可视化工作平台账号及相关服务。您点击“同意”或“下一步”，或您申请、使用电竞可视化工作平台账号及相关服务的行为或者以其他任何明示或者默示方式表示接受本规则的，均视为您已阅读并同意签署本规则。本规则即在您与本公司之间产生法律效力，成为对双方均具有约束力的法律文件。如果您因年龄、智力等因素而不具有完全民事行为能力，请在法定监护人（以下简称"监护人"）的陪同下阅读和判断是否同意本协议。如果您是中国大陆地区以外的用户，您订立或履行本规则的行为需要同时遵守您所属和/或所处国家或地区的法律。
                                        <h3>一、【规则的范围】</h3>
                                        1.1 本规则是本公司制定的关于获取和使用电竞可视化工作平台账号的相关规则。本规则适用于本公司提供的需要注册或使用电竞可视化工作平台账号的全部软件和服务。<br>
                                        1.2 本规则内容同时包括《本公司服务协议》（链接地址：http://www.qq.com/contract.shtml），上述内容一经正式发布即为本规则不可分割的组成部分，您同样应当遵守。<br>
                                        1.3 您通过电竞可视化工作平台账号使用本公司的软件和服务时，须同时遵守各项服务的单独协议。<br>
                                        <h3>二、【电竞可视化工作平台账号的性质】</h3>
                                        电竞可视化工作平台账号是本公司按照本规则授权注册用户用于登录、使用本公司的软件或服务的数字标识，其所有权属于本公司。
                                        <h3>三、【电竞可视化工作平台账号的获取】</h3>
                                        3.1 您可以通过如下方式免费或有偿申请注册电竞可视化工作平台账号，包括但不限于（具体方式以本公司官方实际提供为准）：<br>
                                        （1）软件客户端；<br>
                                        （2）本公司网站；<br>
                                        （3）手机短信；<br>
                                        （4）其他本公司授权的方式。<br>
                                        3.2 您完成申请注册程序后，本公司按照本规则授权您为登录、使用本公司的软件或服务，或者本公司明确许可的其他目的，依照本公司的业务规则使用该号码。<br>
                                        3.3 任何主体通过任何方式使用任何电竞可视化工作平台账号的，均受本规则约束。<br>
                                        3.4 为改善用户体验和/或提供技术便利，本公司服务的帐号可能包括数字、字母或者其组合，以及手机号码、电子信箱等多种形式。在您注册某一形式的帐号时，本公司可能附赠该帐号的另一表现形式。具体的帐号形式、帐号体系及帐号之间的关联关系等，以本公司实际提供的为准。<br>
                                        <h3>四、【用户身份信息验证】</h3>
                                        4.1 您在申请电竞可视化工作平台账号过程中，需要填写一些必要的信息，请保持这些信息的及时更新，以便本公司向您提供帮助，或更好地为您提供服务。若国家法律法规（本协议中的“法律法规”指用户所属/所处地区、国家现行有效的法律、行政法规、司法解释、地方法规、地方规章、部门规章及其他规范性文件以及对于该等法律法规的不时修改和补充，以及相关政策规定等，下同。）有特殊规定的，您需要填写真实的身份信息。若您填写的信息不完整或不准确，则可能无法使用服务或在使用过程中受到限制。<br>
                                        4.2 本公司与用户一同致力于个人信息的保护，保护用户个人信息是本公司的一项基本原则。未经您的同意，本公司不会向本公司以外的任何公司、组织或个人披露您的个人信息，但法律法规另有规定的除外。<br>
                                        4.3 关于本公司如何收集、使用、储存和分享您的个人信息，请仔细阅读和充分理解本公司的《本公司隐私政策》（链接地址：http://www.qq.com/privacy.htm）。<br>
                                        <h3>五、【电竞可视化工作平台账号的使用】</h3>
                                        5.1 您可以按照本公司的业务规则用电竞可视化工作平台账号登录和使用本公司提供的各种软件和服务。<br>
                                        5.2 除了本公司提供的软件和服务，您可能还可以用电竞可视化工作平台账号登录使用第三方网站或者服务。您知晓并同意，除非本公司特别说明外，这些网站或者服务并非本公司运营。您应自行判断此类第三方网站或者服务的安全性和可用性，并自行承担相关风险和责任。服务。<br>
                                        5.3 若您注册的电竞可视化工作平台账号长期没有登录或使用，本公司有权将电竞可视化工作平台账号进行回收处理，您将无法再继续使用相应号码。<br>
                                        <h3>六、【电竞可视化工作平台账号的安全】</h3>
                                        6.1 QQ密码由您自行设定。您应妥善保管您的电竞可视化工作平台账号与密码，并对以此电竞可视化工作平台账号和密码实施的所有活动及其后果承担责任。<br>
                                        6.2 本公司与您共同负有维护电竞可视化工作平台账号安全的责任。本公司会采取并不断更新技术措施，努力保护您的电竞可视化工作平台账号在服务器端的安全。<br>
                                        6.3 您须采取必要措施保护您的号码安全，包括但不限于妥善保管电竞可视化工作平台账号与密码、安装防病毒木马软件、定期更改密码等措施。<br>
                                        6.4 除前述各条款约定外，用户还须妥善保管与电竞可视化工作平台账号及其密码相关的任何数字证书、手机动态口令或验证码、账户绑定的手机号码等一切信息和设备。如用户更换、暂停或终止使用上述信息和/或设备，或遗失或泄露前述信息和/或设备的，用户应及时采取必要措施，以减少可能发生的损失。您知晓并同意，因上述原因所致损失需由您本人承担。<br>
                                        <h3>七、【电竞可视化工作平台账号的找回】</h3>
                                        7.1 如果您注册的电竞可视化工作平台账号被盗、密码遗忘或因其他原因导致无法正常登录，您可以按照本公司的申诉途径进行申诉，并遵守《QQ帐号申诉服务协议》。本公司并不承诺您一定能通过申诉找回电竞可视化工作平台账号。<br>
                                        7.2 您承诺妥善保管可能用于QQ帐号申诉的各项信息或设备，以防止出现他人通过冒充您进行申诉的方式控制您的电竞可视化工作平台账号等类似情况。您理解并同意，因出现此类情况所致损失需由您本人承担。<br>
                                        <h3>八、【用户行为规范】</h3>
                                        用户在使用电竞可视化工作平台账号过程中应遵守法律法规之规定，以及本规则及其他单独协议之约定。除此之外：<br>
                                        8.1 您不得恶意注册、获取电竞可视化工作平台账号。恶意注册、获取电竞可视化工作平台账号的情形包括但不限于：<br>
                                        （1）通过本公司提供的或者明确许可的软件或服务以外的任何软件或者服务注册、获取电竞可视化工作平台账号；或者通过任何软件或服务以非人工、非手动方式注册电竞可视化工作平台账号；或者频繁、批量注册、获取电竞可视化工作平台账号。<br>
                                        （2）为超出正常好友或用户交流沟通的目的而注册或使用电竞可视化工作平台账号，包括但不限于为发送骚扰信息、垃圾信息、广告、诈骗信息或实现违法违规目的等注册、获取或使用电竞可视化工作平台账号。<br>
                                        （3）通过盗号方式获取电竞可视化工作平台账号或从盗号者处获得电竞可视化工作平台账号。<br>
                                        （4）其他通过非本公司明确许可的方式或目的注册、获取或使用电竞可视化工作平台账号的行为。<br>
                                        若经过本公司独立判断，认为您使用的电竞可视化工作平台账号是恶意注册、获取的号码，本公司有权对相应电竞可视化工作平台账号采取限制、中止或终止使用等措施。<br>
                                        8.2 本公司根据本规则对电竞可视化工作平台账号的使用授权，仅限于初始申请注册人。未经本公司许可，初始申请注册人不得赠与、借用、租用、转让或售卖电竞可视化工作平台账号或者以其他方式许可其他主体使用电竞可视化工作平台账号。<br>
                                        8.3如果您当前使用的电竞可视化工作平台账号并不是您初始申请注册的或者不是通过本公司提供的其他途径获得的，您不得用该号码登录或进行任何操作，并请您在第一时间通知本公司或者该号码的初始申请注册人。<br>
                                        <h3>九、【责任承担】</h3>
                                        9.1 您理解并同意，您应承担您电竞可视化工作平台账号项下所有活动产生的全部责任。<br>
                                        9.2因本公司原因导致您的电竞可视化工作平台账号被盗，本公司将依法承担相应责任。非因本公司原因导致的，您应自行承担相关法律责任和损失。<br>
                                        9.3 为免产生纠纷，您不得有偿或无偿转让电竞可视化工作平台账号。否则，您应当自行承担由此产生的任何责任，同时本公司保留追究上述行为人法律责任的权利。<br>
                                        <h3>十、【电竞可视化工作平台账号使用的限制、冻结或终止】</h3>
                                        10.1 如您违反相关法律法规、本规则或其他相关协议、规则，本公司有权限制、中止、冻结或终止您对电竞可视化工作平台账号的使用，且根据实际情况决定是否恢复您对电竞可视化工作平台账号的使用。<br>
                                        10.2 如果本公司发现您并非号码初始申请注册人，本公司有权在未经通知的情况下终止您使用该号码。<br>
                                        10.3 本公司按照本规则、相关法律法规或其他相关协议、规则，对您采取限制、中止、冻结或终止您对电竞可视化工作平台账号的使用等措施，而由此给您带来的损失（包括但不限于通信中断，用户资料、邮件和虚拟财产及相关数据、增值服务、产品或服务等的清空或无法使用等损失），由您自行承担。<br>
                                        <h3>十一、【帐号安全保护】</h3>
                                        为了保护您的QQ帐号的安全，使您可以更加安全地使用本服务，本公司可能会不断升级、完善我们的安全技术防护措施，若本公司根据自己的判断认为您的帐号可能存在被盗号等风险时，为了保护您的账户安全、财产免受损失等，可能会采取向您发出一定的提示、暂时冻结您对号码的使用等措施。您应该按照本公司的提示或指引进行操作，以降低您帐号被盗的风险或恢复您对帐号的使用。<br>
                                        <h3>十二、【客户服务】</h3>
                                        如果您对本公司采取的电竞可视化工作平台账号的限制、冻结或终止等任何措施有异议或在使用电竞可视化工作平台账号的过程中有其他问题的，均可联系本公司客户服务部门（http://kf.qq.com），我们会给予您必要的帮助。<br>
                                        <h3>十三、【其他】</h3>
                                        13.1 您申请或使用电竞可视化工作平台账号及相关服务即视为您已阅读并同意受本规则的约束。本公司有权在必要时修改本规则条款。您可以在本公司相关页面查阅本规则的最新版本。本规则条款变更后，如果您继续使用电竞可视化工作平台账号及相关服务，即视为您已接受变更后的规则。<br>
                                        13.2 本规则签订地为中华人民共和国广东省深圳市南山区。<br>
                                        13.3 本规则的成立、生效、履行、解释及纠纷解决等相关事宜，均适用中华人民共和国大陆地区法律（不包括冲突法）。<br>
                                        13.4 若您和本公司之间发生任何纠纷或争议，首先应友好协商解决；协商不成的，您同意将纠纷或争议提交本规则签订地（即广东省深圳市南山区）有管辖权的人民法院管辖。<br>
                                        13.5 本规则所有条款的标题仅为阅读方便，本身并无实际涵义，不能作为本规则涵义解释的依据。<br>
                                        13.6 本规则条款无论因何种原因部分无效或不可执行，其余条款仍有效，对双方具有约束力。<br>
                                        13.7 若本协议有中文、英文等多个语言版本，相应内容不一致的，均以中文版的内容为准。（正文完）
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn" data-dismiss="modal">关闭</button>
                                        <button type="button" class="btn">同意</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div><!-- 列 -->
        </div>
    </div>
    <footer class="footer navbar-fixed-bottom hidden-print wow fadeInUp" data-wow-duration="2s" data-wow-delay="0.5s">
        <div class="container-fluid text-center">
            <div class="media-logo row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 footer-text">
                    合作媒体
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <!-- <img class="img-responsive logo-img" src="images/qqgame.png"> -->
                </div>
            </div>
            <div class="about-us">
                <a href="/aboutus">关于我们</a>
            </div>
            <div class="copyright">
                &copy;
                <script>
                document.write(new Date().getFullYear())
                </script>
                <a href="http://www.beian.miit.gov.cn/" target="_blank">陕ICP备 18009052号</a>
            </div>
            <!-- your footer here -->
        </div>
    </footer>
    </div>
    </div>
    <!-- jquery要在bootstrap前面，不然会报错 -->
    <script type="text/javascript" src="/public/node_modules/jquery/dist/jquery.js"></script>
    <script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
    <script src="/public/layui/layui.js" charset="utf-8"></script>
    <script type="text/javascript" src="/public/node_modules/popper.js/dist/umd/popper.js"></script>
    <script src="/public/js/owl.carousel.min.js"></script>
    <script type="text/javascript" src="/public/node_modules/wowjs/dist/wow.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.1/dist/jquery.validate.js"></script>
    <script src='/public/fullCalendar/core/main.js'></script>
    <script src='/public/fullCalendar/interaction/main.js'></script>
    <script src='/public/fullCalendar/daygrid/main.js'></script>
    <script src='/public/fullCalendar/timegrid/main.js'></script>
    <script src='/public/fullCalendar/list/main.js'></script>
    <script type="text/javascript">
    $(document).ready(function() {
        $(".owl-carousel").owlCarousel({
            animateOut: 'fadeOutRight',
            animateIn: 'fadeInLeft',
            items: 1,
            loop: true,
            center: true,
            autoHeight: true,
            autoplay: true,
            autoplaySpeed: 30,
            transitionStyle: true,
            // nav: true,
            dots: true,
            dotsEach: true,
            // dotsData:true,
            // margin: 30,
            // stagePadding: 30,
            smartSpeed: 40
        });
    });
    var wow = new WOW({
        boxClass: 'wow', // animated element css class (default is wow)
        animateClass: 'animated', // animation css class (default is animated)
        offset: 0, // distance to the element when triggering the animation (default is 0)
        mobile: true, // trigger animations on mobile devices (default is true)
        live: true, // act on asynchronously loaded content (default is true)
        callback: function(box) {
            // the callback is fired every time an animation is started
            // the argument that is passed in is the DOM node being animated
        },
        scrollContainer: null // optional scroll container selector, otherwise use window
    });
    wow.init();
    layui.use(['util', 'laydate', 'layer'], function() {
        var util = layui.util,
            laydate = layui.laydate,
            layer = layui.layer;
        //固定块
        util.fixbar({
            bar1: '&#xe68e;',
            bar2: '&#xe65c;',
            css: { right: 50, bottom: 100 },
            bgcolor: '#393D49',
            click: function(type) {
                if (type === 'bar1') {
                    window.location.href = "/";
                } else if (type === 'bar2') {
                    window.history.back(-1);
                }
            }
        });
    });
    </script>
    <script>
    function timer(time) {
        var btn = $("#again");
        btn.attr("disabled", true); //按钮禁止点击
        btn.val(time <= 0 ? "重新发送" : ("" + (time) + "秒后可发送"));
        var hander = setInterval(function() {
            if (time <= 0) {
                clearInterval(hander); //清除倒计时
                btn.val("重新发送");
                btn.attr("disabled", false);
                return false;
            } else {
                btn.val("" + (time--) + "秒后可发送");
            }
        }, 1000);
    }
    </script>
    <!-- <script>
    /**生成一个随机数**/
    function randomNum(min, max) {
        return Math.floor(Math.random() * (max - min) + min);
    }
    /**生成一个随机色**/
    function randomColor(min, max) {
        var r = randomNum(min, max);
        var g = randomNum(min, max);
        var b = randomNum(min, max);
        return "rgb(" + r + "," + g + "," + b + ")";
    }
    drawPic();
    document.getElementById("changeImg").onclick = function(e) {
        e.preventDefault();
        drawPic();
    }

    /**绘制验证码图片**/
    function drawPic() {
        var canvas = document.getElementById("canvas");
        var width = canvas.width;
        var height = canvas.height;
        var ctx = canvas.getContext('2d');
        ctx.textBaseline = 'bottom';

        /**绘制背景色**/
        ctx.fillStyle = randomColor(180, 240); //颜色若太深可能导致看不清
        ctx.fillRect(0, 0, width, height);
        /**绘制文字**/
        var str = 'ABCEFGHJKLMNPQRSTWXY123456789';
        var contxt = ""; //用于得到验证码的值
        for (var i = 0; i < 4; i++) {
            var txt = str[randomNum(0, str.length)];
            contxt += txt; //用于取出4次循环的单个值并追加到contxt
            ctx.fillStyle = randomColor(50, 160); //随机生成字体颜色
            ctx.font = randomNum(15, 40) + 'px SimHei'; //随机生成字体大小
            var x = 10 + i * 25;
            var y = randomNum(25, 45);
            var deg = randomNum(-45, 45);
            //修改坐标原点和旋转角度
            ctx.translate(x, y);
            ctx.rotate(deg * Math.PI / 180);
            ctx.fillText(txt, 0, 0);
            //恢复坐标原点和旋转角度
            ctx.rotate(-deg * Math.PI / 180);
            ctx.translate(-x, -y);
        }
        /**绘制干扰线**/
        for (var i = 0; i < 8; i++) {
            ctx.strokeStyle = randomColor(40, 180);
            ctx.beginPath();
            ctx.moveTo(randomNum(0, width), randomNum(0, height));
            ctx.lineTo(randomNum(0, width), randomNum(0, height));
            ctx.stroke();
        }
        /**绘制干扰点**/
        for (var i = 0; i < 100; i++) {
            ctx.fillStyle = randomColor(0, 255);
            ctx.beginPath();
            ctx.arc(randomNum(0, width), randomNum(0, height), 1, 0, 2 * Math.PI);
            ctx.fill();
        }
    }
    jQuery.validator.addMethod("checkCode", function(value, element) { //value是从表单接收来的值
        value = value.toUpperCase(); //将用户输入的值转换为大写
        return this.optional(element) || (value === contxt); //将value与图形上的验证码进行比较，this.optional(element)用于表单控件的值不为空时才触发验证
    }, "验证码错误");
    $("#randomCode").validate({
        rules: {
            checkCode: true
        },
        messages:{
            checkCode:'验证码错误'
        },

        submitHandler: function(form) {
            $(form).ajaxSubmit();
        }
    });
    </script> -->
    <script>
    var formData = {}
$('#mailbutton').on('click', function (e) {
    e.preventDefault()
    formData.username = $('#usermail').val()
    $.ajax({
    url: '/checkCode',
    type: 'post',
    data: formData,
    dataType: 'json',
    error: function(XMLResponse) {
          alert(XMLResponse.responseText + '\n 服务器忙')
    },
    success: function (data) {
        var err_code = data.err_code
        if (err_code === 0) {
            console.log("邮件发送")
            timer(60)
        } else if (err_code === 1) {
        window.alert('邮箱或者昵称已存在！')
	return
        }
    }
    })

})
</script>
<script>
var formData = {}
$('#registerbtn').on('click', function (e) {
    e.preventDefault()
    if ($('#usermail').val() == '') {
        window.alert('邮箱不能为空')
        return
    }
    if ($('#userpassword').val() != $('#userpasswordconfirm').val()) {
      window.alert('密码不一致')
      return
    }
    if (!$("#usercheckbox").get(0).checked) {
        window.alert('请阅读用户协议')
        return
    }
    formData.username = $('#usermail').val()
    formData.password = $('#userpassword').val()
    formData.activateCode = $('#activateCode').val()
    $.ajax({
    url: '/passwd',
    type: 'post',
    data: formData,
    dataType: 'json',
    error: function(XMLResponse) {
          alert(XMLResponse.responseText + '\n 服务器忙')
    },
    success: function (data) {
        var err_code = data.err_code
        if (err_code === 0) {
            window.location.href = '/login'
        } else if (err_code === 1) {
        window.alert('新用户请注册')
        return
        } else if (err_code === 2) {
        window.alert('验证码错误')
        return
        }
    }
    })

})

</script>
</body>

</html>
